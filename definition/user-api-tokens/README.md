# User API Tokens

These routes manage tokens that are owned by a single user, as opposed to being owned by an organization or team.

To use in `glopen`:

```js
// glopen.config.js
import { shared, userApiTokens } from '@saibotsivad/glopen-routes'
export default {
	merge: [
		...shared(),
		...userApiTokens({
			api: '/api/v1' // optional
		})
	],
}
```

The components are:

- [`parameter: userApiTokenId`](./openapi/components/parameters/userApiTokenId.@.js)
- [`schema: userApiToken`](./openapi/components/schemas/userApiToken.@.js)
- [`tag: userApiTokens`](./openapi/tags.@.js)
- [shared components](../_shared/README.md)

The routes are:

##### [`POST /userApiTokens`](./routes/paths/userApiTokens/post.@.js)

Create a new API token, which will be managed by the requesting user.

The token secret is generated by the server, and is returned as a separate property, visible only one time on this response.

- `request.controller.userApiToken.create: (request: Request) => { userApiToken: UserApiToken, secret: String }`

##### [`GET /userApiTokens`](./routes/paths/userApiTokens/get.@.js)

Fetch the list of API tokens owned by the requesting user.

- `request.controller.userApiToken.list: (request: Request) => { userApiTokens: Array<UserApiTokens> }`

##### [`DELETE /userApiTokens/{userApiTokenId}`](./routes/paths/userApiTokens/{userApiTokenId}/delete.@.js)

Delete an API token owned by the requesting user.

- `request.controller.userApiToken.remove: (request: Request) => null`

##### [`PATCH /userApiTokens/{userApiTokenId}`](./routes/paths/userApiTokens/{userApiTokenId}/patch.@.js)

Sparse update to an API token owned by the requesting user.

The token secret is generated by the server, and is returned as a separate property, visible only one time on this response.

- `request.controller.userApiToken.sparseUpdate: (request: Request) => { userApiToken: UserApiToken, secret: String }`
